<main class="relative z-0 flex-1 overflow-y-auto focus:outline-none">
  <main class="">
    <div class="px-4 sm:px-6 ">
      <!-- Main 3 column grid -->
      <div class="grid items-start grid-cols-1 gap-2 lg:grid-cols-3 lg:gap-2">
        <!-- Left column -->
        <div class="grid grid-cols-1 lg:col-span-2  top-16  pt-6 ">
        <%if @contacted.count>0%>
          <section aria-labelledby="participants_section">
            <div class="overflow-hidden bg-white mt-4">
              <div class="px-4">
                <div class="flex flex-wrap ">
                 <p class=" text-sm font-medium text-gray-900 truncate">Recently Contacted</p>
                </div>
                   <div class=" flex   bg-white font-sans py-6 px-2">
                <div class="flex   w-full max-w-lg space-x-6 ml-4 ">  
                 <%= render partial: "contacted", collection: @contacted, as: :recent, cached: false %>
                 </div>
                 </div>
              </div>
            </div>
          </section>
          <% end %>
          <%@favorites=Contact.all.favorites%>
           <%if @favorites.count>0%>
             <section aria-labelledby="participants_section  ">
            <div class="overflow-hidden bg-white">
              <div class="px-4">
                <div class="flex flex-wrap">
                  <p class="  text-sm font-medium text-gray-900 truncate"> Favorite Contacts</p>
                </div>
             <div class=" flex   bg-white font-sans py-6  px-2">
                <div class="flex   w-full max-w-lg space-x-6 ml-4">  
                 <%= render partial: "favorite", collection: @favorites, as: :favorite, cached: false %>
                 </div>
                 </div>
              </div>
            </div>
          </section>
          <% end %>
             <section aria-labelledby="participants_section">
            <div class="overflow-hidden bg-white ">
              <div class="px-4">
                <div class="flex flex-wrap">
                  <p class="  text-sm font-medium text-gray-900 truncate"> Upcoming Events</p>
                   
                </div>
               <div class=" flex   bg-white font-sans py-4 px-2">
                <div class="flex   w-full max-w-lg  ">  
                <ul>
                <%  for num in 0..2 do%>                  
     <p class="  text-sm font-medium text-gray-900 truncate"><%=Date::MONTHNAMES[Date.today.month+num]%> <%=Date.today.year%></p>
   <%if @upcoming_reminders.size>0%>
         <% @upcoming_reminders.each do |date, reminder|%>
         <%=reminder%>
        <%if (reminder.size>0 && date.month==Date.today.month+num)%>
              <div class="py-4">
                <%= render "upcoming", {reminder: reminder}%>
             
                </div>
                   <% break%>
                <% else %>
                <div class="py-4">
                <p class="ml-3 text-sm inline-flex text-gray-500">No reminders for this month </p>
              
                  </div>
                     <% break%>
                <% end %>
                   <% end %>
                <% else %>
                <div class="py-4">
                <p class="ml-3 text-sm inline-flex text-gray-500">No reminders for this month </p>
              
                  </div>
           
         <% end %>
                <% end %>
                </ul>
                 </div>
                 </div>
              </div>
            </div>
          </section>
        </div>
        <!-- Right column -->
        <div class="grid grid-cols-1 gap-4 xl:border-l xl:border-gray-200 overflow-y-auto  h-screen max-content top-16 overscroll-contain min-h-full">
          <section aria-labelledby="add-participant-section">
            <div class="overflow-hidden bg-white h-full">
              <div class="px-4 sm:px-6 ml-2">
                <div class="flex flex-wrap pt-4">
                  <p class="pb-4 mt-4 ml-1 text-sm font-medium text-gray-900 truncate">Recent Activities</p>
                </div>
                <%= turbo_frame_tag "events", src: events_path, target: "_top", loading: :lazy do %>
                  <p class="pb-2 mt-1 text-sm text-gray-500 truncate">Hold on a sec while I fetch events...</p>
                <% end %>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  </main>
</main>
