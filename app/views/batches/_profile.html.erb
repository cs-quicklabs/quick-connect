<% if !contact.blank? %>
  <% if policy(contact).profile? %>
    <div class="h-full" id="profile1">
      <div>
        <img class="h-32 w-full object-cover lg:h-48" src="https://images.unsplash.com/photo-1444628838545-ac4016a5418a?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80" alt="">
      </div>
      <div class="max-w-5xl mx-auto lg:px-6 " id="contact-header">
        <div class="-mt-12 sm:-mt-16 sm:flex sm:items-end lg:space-x-5 md:space-x-3" x-data="{'isModalOpen': false}" x-on:keydown.escape="isModalOpen=false">
          <div class="flex">
            <%= image_tag "male-placeholder-image.png", class: "h-20 w-20 rounded-full ring-4 ring-white sm:h-32 sm:w-32" %>
          </div>
          <div class="sm:flex-1 sm:min-w-0 sm:flex sm:items-center xl:justify-end  lg:space-x-3">
            <div class="sm:hidden 2xl:block mt-4 min-w-0 flex-1  ">
              <h1 class="text-2xl font-bold text-gray-900 truncate "><%= contact.decorate.display_name %></h1>
            </div>
            <div id="" class="flex flex-col justify-stretch space-y-1 sm:flex-row sm:space-y-0 md:space-x-2 xl:space-x-4 ">
              <a type="button" href="/<%= contact.account.id %>/contacts/<%= contact.id %>/abouts" class=" whitespace-nowrap cursor-pointer inline-flex justify-center xl:px-4 xl:py-2  md:py-1 md:px-2  border border-gray-300 shadow-sm text-sm font-normal rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                <!-- Heroicon name: solid/mail -->
                <svg xmlns="http://www.w3.org/2000/svg" class="-ml-1 mr-2 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-900">View Profile</span>
              </a>
              <% if !contact.phone.blank? %>
                <a type="button" x-on:click="isModalOpen = true"  class=" whitespace-nowrap cursor-pointer inline-flex justify-center px-4 py-2  border border-gray-300 shadow-sm text-sm font-normal rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                  <!-- Heroicon name: solid/mail -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="-ml-1 mr-2 h-5 w-5 text-gray-400">
                    <path d="M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 00-1.032-.211 50.89 50.89 0 00-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 002.433 3.984L7.28 21.53A.75.75 0 016 21v-4.03a48.527 48.527 0 01-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979z" />
                    <path d="M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 001.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0015.75 7.5z" />
                  </svg>
                  <span class="text-gray-900">Send Sms</span>
                </a>
                <%= render partial: "contacts/modal", locals: { contact: contact } %>
              <% end %>
              <% if !contact.email.blank? %>
                <a type="button" href="mailto:<%= contact.email %>" class=" whitespace-nowrap cursor-pointer inline-flex justify-center px-4 py-2  border border-gray-300 shadow-sm text-sm font-normal rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                  <!-- Heroicon name: solid/mail -->
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="-ml-1 mr-2 h-5 w-5 text-gray-400">
                    <path d="M1.5 8.67v8.58a3 3 0 003 3h15a3 3 0 003-3V8.67l-8.928 5.493a3 3 0 01-3.144 0L1.5 8.67z" />
                    <path d="M22.5 6.908V6.75a3 3 0 00-3-3h-15a3 3 0 00-3 3v.158l9.714 5.978a1.5 1.5 0 001.572 0L22.5 6.908z" />
                  </svg>
                  <span class="text-gray-900">Send Email</span>
                </a>
              <% end %>
            </div>
          </div>
        </div>
        <div>
        </div>
        <div class="hidden sm:block 2xl:hidden mt-4 min-w-0 flex-1">
          <h1 class="text-2xl font-bold text-gray-900  "><%= contact.decorate.display_name %></h1>
        </div>
      </div>
      <!-- Tabs -->
      <div class="mt-6 sm:mt-2 2xl:mt-5">
        <div class="border-b border-gray-200">
          <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <nav class="-mb-px flex space-x-8" aria-label="Tabs">
              <!-- Current: "border-indigo-500 text-gray-900", Default: "border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300" -->
              <a href="#" class="border-indigo-500 text-gray-900 whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm" aria-current="page"> Profile </a>
            </nav>
          </div>
        </div>
      </div>
      <!-- Description list -->
      <div class="mt-6 max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        <dl class="grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2">
          <div class="sm:col-span-1">
            <dt class="text-sm font-medium text-gray-500">Phone</dt>
            <% if !contact.phone.blank? %>
              <dd class="mt-1 text-sm text-gray-900"><%= contact.phone %></dd>
            <% else %>
              <dd class="text-xs font-normal text-gray-500 mt-1">-</dd>
            <% end %>
          </div>
          <div class="sm:col-span-1">
            <dt class="text-sm font-medium text-gray-500">Email</dt>
            <% if !contact.email.blank? %>
              <dd class="mt-1 text-sm text-gray-900"><%= contact.email %></dd>
            <% else %>
              <dd class="text-xs font-normal text-gray-500 mt-1">-</dd>
            <% end %>
          </div>
        </dl>
      </div>
      <!-- Team member list -->
      <div class="mt-8 max-w-5xl mx-auto px-4 pb-12 sm:px-6 lg:px-8">
        <h2 class="text-sm font-medium text-gray-500">Family</h2>
        <div class="mt-1 grid grid-cols-1 gap-4 sm:grid-cols-2">
          <% if !relatives.blank? %>
            <%= render partial: "contacts/family", collection: relatives, as: :relative, cached: false %>
          <% else %>
            <p class="text-xs font-normal text-gray-500">-</p>
          <% end %>
        </div>
      </div>
    </div>
  <% end %>
<% end %>
